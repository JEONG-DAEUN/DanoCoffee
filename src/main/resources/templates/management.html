<!DOCTYPE html>
<html lang="ko"  xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>메뉴 관리 페이지</title>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"
                integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                crossorigin="anonymous"></script>
    </head>
    <body>
        <h2>메뉴 관리 페이지</h2>
        <table>
            <tbody>
            <tr>
                <td>메뉴명</td>
                <td></td>
            </tr>
            <tr>
                <td>메뉴가격</td>
                <td></td>
            </tr>
            <tr>
                <td>재고수량</td>
                <td></td>
            </tr>
            <tr>
                <td>메뉴이미지</td>
                <td></td>
            </tr>
            <tr>
                <td>카테고리</td>
                <td></td>
            </tr>
            </tbody>
        <input id="mName" type="text" placeholder="MenuName(메뉴명)"><br>
        <input id="mPrice" type="number" placeholder="MenuPrice(메뉴가격)"><br>
        <input id="mInven" type="text" placeholder="MenuInventory(재고수량)"><br>
        <input id="mImg" type="text" placeholder="MenuImg(메뉴이미지)"><br>
            <select id="cId">
                <option value="0">커피</option>
                <option value="1">티</option>
                <option value="2">에이드</option>
            </select>
        </table>
        <script>
            $(function(){
                $('#send').click((event)=>{
                    const mName = $('#mName').val();
                    const mPrice = $('#mPrice').val();
                    const mInven = $('#mInven').val();
                    const mImg = $('#mImg').val();
                    const cId = $( 'select#cId' ).change( function() {
					        var ct = $( 'select#cId' ).val();
				    } );
                    const path='/api/addmenu';

                    const json = JSON.stringify({
                        'mName':mName,
                        'mPrice':mPrice,
                        'mInven':mInven,
                        'mImg':mImg,
                        'cId':{
                            'cId':cId
                            }
                    });
                $.ajax({
                    url:path,
                    type:'POST',
                    contentType: 'application/json',
                    data:json
                }).done((result)=>{
                    console.log(result.mId);
                    });
                });
            });
        </script>

        <button id="send">저장</button>

    </body>
</html>